<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>DragonBones Pixi Example</title>
  <style>
    html,body { margin:0; padding:0; overflow:hidden; background:#222; }
    canvas { width:100vw; height:100vh; display:block; }
  </style>
</head>
<body>
  <canvas id="stage"></canvas>

  <!-- PixiJS -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/5.3.12/pixi.min.js"></script>
  <!-- DragonBones Pixi Runtime -->
<!--<script src="https://cdn.jsdelivr.net/gh/openfl/dragonbones-pixi/bin/dragonBonesPixi.js"></script>-->
<script src="./dragonBones.js"></script>
  <script>
    const app = new PIXI.Application({
      view: document.getElementById("stage"),
      width: window.innerWidth,
      height: window.innerHeight,
      backgroundColor: 0x222222
    });
// Load the image
const bg = PIXI.Sprite.from("./bg10.jpg");

// Optionally resize to fit the renderer
bg.width = app.renderer.width;
bg.height = app.renderer.height;

// Add it to the stage
app.stage.addChild(bg);
    PIXI.Loader.shared
      .add("ske", "./mv_role_201_ske_82d89d67.json")
      .add("tex", "./mv_role_201_tex_58aa6abb.json")
      .add("texpng", "./mv_role_201_tex_c4be8467.png")
      .load((loader, resources) => {
        const factory = dragonBones.PixiFactory.factory;
        factory.parseDragonBonesData(resources.ske.data);
        factory.parseTextureAtlasData(resources.tex.data, resources.texpng.texture);

        const armatureDisplay = factory.buildArmatureDisplay("mv_role_201"); // armature name inside ske.json
        armatureDisplay.animation.play("1"); // default animation
        armatureDisplay.x = app.renderer.width / 2;
        armatureDisplay.y = app.renderer.height * 0.8;

        window.movethis = function(x,y) {
    armatureDisplay.x = x;
  armatureDisplay.y = y;
};
window.scalethis = function(scale=1) {
  armatureDisplay.scale.set(scale);

};
window.checkcoords = function() {
  console.log("X: " + armatureDisplay.x);
  console.log("Y: " + armatureDisplay.y);
  console.log("Scale: " + armatureDisplay.scale);
    console.log("Width: " + armatureDisplay.width);
console.log("Height: " + armatureDisplay.height);


};

// Scale
armatureDisplay.scale.set(2); // shrink (use >1 to enlarge)

        app.stage.addChild(armatureDisplay);
      });
      
  </script>
</body>
</html>
